<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Ceres</title>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

	<link href="/static/css/landing-page.min.css" rel="stylesheet">
	<link href="/static/css/general.css" rel="stylesheet">
  <!--data Tables-->
  <!--
        here is the url for more information about Datatables:
          https://datatables.net/
    -->
  <script type="text/javascript"
    src="https://cdn.datatables.net/responsive/2.2.3/css/responsive.dataTables.min.css"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
    crossorigin="anonymous">
    </script>

  <link rel="stylesheet" type="text/css"
    href="https://cdn.datatables.net/v/dt/jszip-2.5.0/dt-1.10.20/af-2.3.4/b-1.6.1/b-colvis-1.6.1/b-flash-1.6.1/b-html5-1.6.1/b-print-1.6.1/cr-1.5.2/fc-3.3.0/fh-3.1.6/kt-2.5.1/r-2.2.3/rg-1.1.1/rr-1.2.6/sc-2.0.1/sl-1.3.1/datatables.min.css" />
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
  <script type="text/javascript"
    src="https://cdn.datatables.net/v/dt/jszip-2.5.0/dt-1.10.20/af-2.3.4/b-1.6.1/b-colvis-1.6.1/b-flash-1.6.1/b-html5-1.6.1/b-print-1.6.1/cr-1.5.2/fc-3.3.0/fh-3.1.6/kt-2.5.1/r-2.2.3/rg-1.1.1/rr-1.2.6/sc-2.0.1/sl-1.3.1/datatables.min.js"></script>

  <script type="text/javascript"
    src="https://cdn.datatables.net/rowreorder/1.2.6/css/rowReorder.dataTables.min.css"></script>

  <script src="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css"></script>

  <style>
    .responsive {
      width: 100%;
      height: auto;
    }
  </style>


</head>
<!-- links for tutorials used:
    https://jsfiddle.net/user2314737/28wqq1gu/
    https://davidwalsh.name/browser-camera
    https://tutorialzine.com/2016/07/take-a-selfie-with-js
    https://www.html5rocks.com/en/tutorials/getusermedia/intro/
    https://stackoverflow.com/questions/4459379/preview-an-image-before-it-is-uploaded


    $('button').click( function() {
        var data = table.$('input, select').serialize();
        alert(
            "The following data would have been submitted to the server: \n\n"+
            data.substr( 0, 120 )+'...'
        );
        return false;
    } );
    
-->
<script>
  $(document).ready(function () {
    var table = $('#example').DataTable({
      rowReorder: false,

      targets: [0, 1],
      responsive: true,
      select: true,


    });





  });
</script>
<nav class="navbar navbar-expand-lg navbar-dark navbar-color">
		<a class="navbar-brand" href="{% url 'landing' %}">Ceres</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"></span>
		</button>
		
		<div class="collapse navbar-collapse" id="navbarSupportedContent">
						
		<ul class="nav navbar-nav ml-auto">
			{% if user.is_authenticated %}
			<li class="nav-item">
				<a class="nav-link" href="{% url 'inventory' %}">Inventory</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="{% url 'receipt' %}">UploadReceipt</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="{% url 'group' %}">Fridge</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="{% url 'mygrouplist' %}">ShoppingList</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="{% url 'invitations' %}">Invitation</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="{% url 'recipe' %}">Recipe</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="{% url 'signout' %}">Log out</a>
			</li>
			{% else %}
			<li class="nav-item">
				<a class="nav-link" href="{% url 'about' %}">About us</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="{% url 'signin' %}">Sign in</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="{% url 'signup' %}">Sign up</a>
			</li>
			{% endif %}
			</ul>
			<form class="form-inline my-2 my-lg-0">
			</form>
		</div>
	</nav>
<small class="text-muted text-center"> SFSU Software Engineering Project CSC 648-848, Fall 2019.  For Demonstration Only</small>
<header class="text-black text-center">
    <div class="col-xl-9 mx-auto">
        <h1 class="mb-5">Upload Your Receipt</h1>
    </div>
</header>


<div class="container">
  <div class="row">
    <div class="col-sm-6">
      <h3>Upload picture of receipt</h3>
      <!--
        <input type="file" accept="image/*" onchange="loadFile(event)">
      <img id="output" class="responsive" width="600" height="400">
      -->
      <form method="post" enctype="multipart/form-data" onchange="readURL(this)">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" name="submitImage">Upload</button>
      </form>
      <img class="responsive" id="myImg" src="#" alt="your image" />
    </div>
    <div class="col-sm-6">
      <h3>Receipt picture output</h3>
      <form method="post" enctype="multipart/form-data" action="/imageSave/">
        {% csrf_token %}
        {{ form2.as_p }}
        <!-- <button id="removeButton">Delete selected row</button> -->
        <button id="saveButton">Save Form</button>
        <!-- <button id="addRow">Add new row</button> -->

        <table id="example" class="display" style="width:100%">
          <thead>
            <tr>
              <th>Name</th>
              <th>Quantity</th>
            </tr>
          </thead>
          {% if c %}
          <tbody>
            {% for i in c %}
            <tr>
              <!--
                      <th>{{i}}</th>
                   -->
              <th><input type="text" id="name" name="name_{{i}}" value="{{i}}"></th>
              <!--
                      <td><input type="text" id="name" name="name" value={{i}}></td>
                   -->
              <td><input type="number" id="quantity" min="0" name="quantity_{{i}}" value=1></td>

            </tr>
            {% endfor %}
          </tbody>
          {% endif %}
      
        <!--
           <table id="example" class="display" style="width:100%">
     
        <thead>
            <tr>
                <th>Name</th>
                <th>Price</th>
            </tr>
        </thead>
        {% if res %}
        <tbody>
            {% for key,value in res.items %}
            <tr>
                <th>{{key}}</th>
                <th>${{value}}</th>
            </tr>
            {% endfor %}
          </tbody>
          {% endif %}
        -->

        <!--     <tr>
                <th>Name</th>
                <th>Age</th>
               <th>Position</th>
                <th>Office</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Tiger Nixon</td>
                <td><input type="text" id="row-0-name" name="row-1-name" value="61"></td>
                <td><input type="text" id="row-1-age" name="row-1-age" value="61"></td>
                <td><input type="text" id="row-1-position" name="row-1-position" value="System Architect"></td>
                
                   <td><select size="1" id="row-1-office" name="row-1-office">
                    <option value="Edinburgh" selected="selected">
                        Edinburgh
                    </option>
                    <option value="London">
                        London
                    </option>
                    <option value="New York">
                        New York
                    </option>
                    <option value="San Francisco">
                        San Francisco
                    </option>
                    <option value="Tokyo">
                        Tokyo
                    </option>
                </select></td>
               
               
             </tr>
           
          
        </tbody> -->
        <tfoot>
          <tr>
              <th>Name</th>
              <th>Quantity</th>
          </tr>
        </tfoot>
        </table>
      </form>






    </div>

    <body>

    </body>






    <script>
      var loadFile = function (event) {
        var output = document.getElementById('output');
        output.src = URL.createObjectURL(event.target.files[0]);
      };
    </script>
    <script>
      $(function () {
        $(":file").change(function () {
          if (this.files && this.files[0]) {
            var reader = new FileReader();
            reader.onload = imageIsLoaded;
            reader.readAsDataURL(this.files[0]);
          }
        });
      });

      function imageIsLoaded(e) {
        $('#myImg').attr('src', e.target.result);
      };
    </script>


    <!-- Bootstrap core JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"></script>


</html>
<footer class="container mt-4">
  <div class="row">
    <div class="col">
      <p class="text-center text-color-green">Design by <a href="{% url 'about' %}" class="text-color-green">SFSU students</a></p>
    </div>
  </div>
</footer>
